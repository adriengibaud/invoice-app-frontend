{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/ichbinrodolf/projects/invoices-app/invoice-app-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _objectSpread from\"/Users/ichbinrodolf/projects/invoices-app/invoice-app-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/Users/ichbinrodolf/projects/invoices-app/invoice-app-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/ichbinrodolf/projects/invoices-app/invoice-app-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject,_templateObject2,_templateObject3,_templateObject4;/* eslint-disable react/no-unescaped-entities */ /* eslint-disable jsx-a11y/label-has-associated-control */ /* eslint-disable no-unused-vars */ /* eslint-disable arrow-body-style */import React,{useState,useEffect}from'react';import{v4 as uuidv4}from'uuid';import styled from'styled-components';import'react-datepicker/dist/react-datepicker.css';import AddItemButton from'components/buttons/AddItemButton';import BackButton from'components/buttons/BackButton';import ItemList from'./ItemList';import InvoiceDateSelector from'./InvoiceDateSelector';import Input from'./Input';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var InvoiceForm=function InvoiceForm(_ref){var invoiceData=_ref.invoiceData,closeCreatingInvoice=_ref.closeCreatingInvoice;var _useState=useState(invoiceData.id),_useState2=_slicedToArray(_useState,2),id=_useState2[0],setId=_useState2[1];var _useState3=useState(invoiceData.description),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(invoiceData.createdAt),_useState6=_slicedToArray(_useState5,2),createdAt=_useState6[0],setCreatedAt=_useState6[1];var _useState7=useState(invoiceData.paymentDue),_useState8=_slicedToArray(_useState7,2),paymentDue=_useState8[0],setPaymentDue=_useState8[1];var _useState9=useState(invoiceData.clientName),_useState10=_slicedToArray(_useState9,2),clientName=_useState10[0],setClientName=_useState10[1];var _useState11=useState(invoiceData.clientEmail),_useState12=_slicedToArray(_useState11,2),clientEmail=_useState12[0],setClientEmail=_useState12[1];var _useState13=useState(invoiceData.clientAddress),_useState14=_slicedToArray(_useState13,2),clientAddress=_useState14[0],setClientAddress=_useState14[1];var _useState15=useState(invoiceData.senderAddress),_useState16=_slicedToArray(_useState15,2),senderAddress=_useState16[0],setSenderAddress=_useState16[1];var _useState17=useState(invoiceData.items),_useState18=_slicedToArray(_useState17,2),items=_useState18[0],setItems=_useState18[1];var _useState19=useState(invoiceData.total),_useState20=_slicedToArray(_useState19,2),total=_useState20[0],setTotal=_useState20[1];var _useState21=useState(30),_useState22=_slicedToArray(_useState21,2),select=_useState22[0],setSelect=_useState22[1];/* useEffect(() => {\n    setTotal(items.map((e) => e.total).reduce((a, b) => a + b, 0));\n  }, [items]);\n*/useEffect(function(){if(select!=='custom'&&createdAt!==''){setPaymentDue(\"je rajoute \".concat(select,\" jours\"));console.log(paymentDue);}else{console.log('je ne fais rien lol');}},[select,createdAt]);var submitForm=function submitForm(event){event.preventDefault();};var addItem=function addItem(){var blankItem={id:uuidv4(),name:'',quantity:'',price:'',total:''};return setItems([].concat(_toConsumableArray(items),[blankItem]));};var _modifyItem=function modifyItem(type,data,value){var itemsCopy=_toConsumableArray(items);var index=itemsCopy.findIndex(function(r){return r.id===data.id;});var item=_objectSpread({},itemsCopy[index]);if(type==='itemName')item.name=value;if(type==='qty'&&value>=0){item.quantity=value;item.total=value*item.price;}if(type==='price'&&value>=0){item.price=value;item.total=value*item.quantity;}if(type==='total')item.price=value;itemsCopy[index]=item;setItems(itemsCopy);};var deleteItem=function deleteItem(item){return setItems(items.filter(function(e){return e.id!==item;}));};return/*#__PURE__*/_jsxs(FormContainer,{onSubmit:submitForm,children:[/*#__PURE__*/_jsx(BackButtonContainer,{children:/*#__PURE__*/_jsx(BackButton,{clickHandler:function clickHandler(){return closeCreatingInvoice();}})}),/*#__PURE__*/_jsx(\"h1\",{children:\"New Invoice\"}),/*#__PURE__*/_jsxs(FormPart,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Bill From\"}),/*#__PURE__*/_jsx(FullSizeEntry,{numberPerLine:\"one\",children:/*#__PURE__*/_jsx(Input,{text:\"Street Address\",data:senderAddress.street,dataChangeHandler:function dataChangeHandler(street){return setSenderAddress(_objectSpread(_objectSpread({},senderAddress),{},{street:street}));}})}),/*#__PURE__*/_jsxs(FullSizeEntry,{numberPerLine:\"three\",children:[/*#__PURE__*/_jsx(Input,{text:\"City\",data:senderAddress.city,dataChangeHandler:function dataChangeHandler(city){return setSenderAddress(_objectSpread(_objectSpread({},senderAddress),{},{city:city}));}}),/*#__PURE__*/_jsx(Input,{text:\"Post Code\",data:senderAddress.postCode,dataChangeHandler:function dataChangeHandler(postCode){return setSenderAddress(_objectSpread(_objectSpread({},senderAddress),{},{postCode:postCode}));}}),/*#__PURE__*/_jsx(Input,{text:\"Country\",data:senderAddress.country,dataChangeHandler:function dataChangeHandler(country){return setSenderAddress(_objectSpread(_objectSpread({},senderAddress),{},{country:country}));}})]})]}),/*#__PURE__*/_jsxs(FormPart,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Bill To\"}),/*#__PURE__*/_jsxs(FullSizeEntry,{numberPerLine:\"one\",children:[/*#__PURE__*/_jsx(Input,{data:clientName,dataChangeHandler:function dataChangeHandler(name){return setClientName(name);},text:\"Client's Name\"}),/*#__PURE__*/_jsx(Input,{data:clientEmail,dataChangeHandler:function dataChangeHandler(email){return setClientEmail;},text:\"Client's Email\"}),/*#__PURE__*/_jsx(Input,{data:clientAddress.street,dataChangeHandler:function dataChangeHandler(street){return setClientAddress(_objectSpread(_objectSpread({},clientAddress),{},{street:street}));},text:\"Street Address\"})]}),/*#__PURE__*/_jsxs(FullSizeEntry,{numberPerLine:\"three\",children:[/*#__PURE__*/_jsx(Input,{data:clientAddress.city,dataChangeHandler:function dataChangeHandler(city){return setClientAddress(_objectSpread(_objectSpread({},clientAddress),{},{city:city}));},text:\"City\"}),/*#__PURE__*/_jsx(Input,{data:clientAddress.postCode,dataChangeHandler:function dataChangeHandler(postCode){return setClientAddress(_objectSpread(_objectSpread({},clientAddress),{},{postCode:postCode}));},text:\"Post Code\"}),/*#__PURE__*/_jsx(Input,{data:clientAddress.country,dataChangeHandler:function dataChangeHandler(country){return setClientAddress(_objectSpread(_objectSpread({},clientAddress),{},{country:country}));},text:\"Country\"})]})]}),/*#__PURE__*/_jsx(FormPart,{children:/*#__PURE__*/_jsx(FullSizeEntry,{numberPerLine:select==='custom'?'three':'two',date:true,children:/*#__PURE__*/_jsx(InvoiceDateSelector,{createdAt:createdAt,invoiceDateHandler:function invoiceDateHandler(date){return setCreatedAt(date);},handleSelectChange:function handleSelectChange(term){return setSelect(term);},select:select,paymentDue:paymentDue,paymentDueHandler:function paymentDueHandler(date){return setPaymentDue(date);}})})}),/*#__PURE__*/_jsxs(FormPart,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Item List\"}),items.length>0&&items.map(function(e,i){return/*#__PURE__*/_jsx(ItemList,{position:i,data:e,handleDelete:function handleDelete(item){return deleteItem(item);},modifyItem:function modifyItem(type,data,value){return _modifyItem(type,data,value);}},e.id);}),/*#__PURE__*/_jsx(AddItemButton,{margin:\"20px\",clickHandler:function clickHandler(){return addItem;}})]})]});};export default InvoiceForm;var FormContainer=styled.form(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  label {\\n    margin-bottom: 10px;\\n  }\\n  input,\\n  select {\\n    width: 100%;\\n    height: 40px;\\n    border: 1px solid #0c9880;\\n    border-radius: 5px;\\n    padding: 6px;\\n  }\\n  .label {\\n    margin-bottom: 10px;\\n  }\\n\"])));var BackButtonContainer=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  margin-bottom: 30px;\\n\"])));var FormPart=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  margin-top: 40px;\\n  h3 {\\n    font-size: 16px;\\n  }\\n\"])));var FullSizeEntry=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  margin-top: 20px;\\n  display: flex;\\n  flex-direction: \",\";\\n  width: 100%;\\n  justify-content: space-between;\\n  @media screen and (max-width: 600px) {\\n    flex-direction: \",\";\\n    flex-wrap: wrap;\\n    margin-top: 0;\\n  }\\n\\n  .container {\\n    width: \",\";\\n    display: flex;\\n    flex-direction: column;\\n    margin-top: 10px;\\n    @media screen and (max-width: 600px) {\\n      width: \",\";\\n    }\\n  }\\n\"])),function(props){return props.numberPerLine==='one'?'column':'row';},function(_ref2){var twoOnMobile=_ref2.twoOnMobile;return twoOnMobile?'row':'row';},function(_ref3){var numberPerLine=_ref3.numberPerLine;return numberPerLine==='three'&&'30%'||numberPerLine==='two'&&'45%'||numberPerLine==='one'&&'100%';},function(_ref4){var date=_ref4.date;return date?'45%':'100%';});","map":{"version":3,"sources":["/Users/ichbinrodolf/projects/invoices-app/invoice-app-frontend/src/components/invoiceForm/InvoiceForm.jsx"],"names":["React","useState","useEffect","v4","uuidv4","styled","AddItemButton","BackButton","ItemList","InvoiceDateSelector","Input","InvoiceForm","invoiceData","closeCreatingInvoice","id","setId","description","setDescription","createdAt","setCreatedAt","paymentDue","setPaymentDue","clientName","setClientName","clientEmail","setClientEmail","clientAddress","setClientAddress","senderAddress","setSenderAddress","items","setItems","total","setTotal","select","setSelect","console","log","submitForm","event","preventDefault","addItem","blankItem","name","quantity","price","modifyItem","type","data","value","itemsCopy","index","findIndex","r","item","deleteItem","filter","e","street","city","postCode","country","email","date","term","length","map","i","FormContainer","form","BackButtonContainer","div","FormPart","FullSizeEntry","props","numberPerLine","twoOnMobile"],"mappings":"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","sourcesContent":["/* eslint-disable react/no-unescaped-entities */\n/* eslint-disable jsx-a11y/label-has-associated-control */\n/* eslint-disable no-unused-vars */\n/* eslint-disable arrow-body-style */\nimport React, { useState, useEffect } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport AddItemButton from 'components/buttons/AddItemButton';\nimport BackButton from 'components/buttons/BackButton';\nimport ItemList from './ItemList';\nimport InvoiceDateSelector from './InvoiceDateSelector';\nimport Input from './Input';\n\nconst InvoiceForm = ({ invoiceData, closeCreatingInvoice }) => {\n  const [id, setId] = useState(invoiceData.id);\n  const [description, setDescription] = useState(invoiceData.description);\n  const [createdAt, setCreatedAt] = useState(invoiceData.createdAt);\n  const [paymentDue, setPaymentDue] = useState(invoiceData.paymentDue);\n  const [clientName, setClientName] = useState(invoiceData.clientName);\n  const [clientEmail, setClientEmail] = useState(invoiceData.clientEmail);\n  const [clientAddress, setClientAddress] = useState(invoiceData.clientAddress);\n  const [senderAddress, setSenderAddress] = useState(invoiceData.senderAddress);\n  const [items, setItems] = useState(invoiceData.items);\n  const [total, setTotal] = useState(invoiceData.total);\n  const [select, setSelect] = useState(30);\n\n  /* useEffect(() => {\n    setTotal(items.map((e) => e.total).reduce((a, b) => a + b, 0));\n  }, [items]);\n*/\n\n  useEffect(() => {\n    if (select !== 'custom' && createdAt !== '') {\n      setPaymentDue(`je rajoute ${select} jours`);\n      console.log(paymentDue);\n    } else {\n      console.log('je ne fais rien lol');\n    }\n  }, [select, createdAt]);\n\n  const submitForm = (event) => {\n    event.preventDefault();\n  };\n\n  const addItem = () => {\n    const blankItem = {\n      id: uuidv4(),\n      name: '',\n      quantity: '',\n      price: '',\n      total: '',\n    };\n    return setItems([...items, blankItem]);\n  };\n\n  const modifyItem = (type, data, value) => {\n    const itemsCopy = [...items];\n    const index = itemsCopy.findIndex((r) => r.id === data.id);\n    const item = { ...itemsCopy[index] };\n    if (type === 'itemName') item.name = value;\n    if (type === 'qty' && value >= 0) {\n      item.quantity = value;\n      item.total = value * item.price;\n    }\n    if (type === 'price' && value >= 0) {\n      item.price = value;\n      item.total = value * item.quantity;\n    }\n    if (type === 'total') item.price = value;\n    itemsCopy[index] = item;\n    setItems(itemsCopy);\n  };\n\n  const deleteItem = (item) => setItems(items.filter((e) => e.id !== item));\n\n  return (\n    <FormContainer onSubmit={submitForm}>\n      <BackButtonContainer>\n        <BackButton clickHandler={() => closeCreatingInvoice()} />\n      </BackButtonContainer>\n\n      <h1>New Invoice</h1>\n      <FormPart>\n        <h3>Bill From</h3>\n        <FullSizeEntry numberPerLine=\"one\">\n          <Input\n            text=\"Street Address\"\n            data={senderAddress.street}\n            dataChangeHandler={(street) => setSenderAddress({ ...senderAddress, street })}\n          />\n        </FullSizeEntry>\n        <FullSizeEntry numberPerLine=\"three\">\n          <Input\n            text=\"City\"\n            data={senderAddress.city}\n            dataChangeHandler={(city) => setSenderAddress({ ...senderAddress, city })}\n          />\n          <Input\n            text=\"Post Code\"\n            data={senderAddress.postCode}\n            dataChangeHandler={(postCode) => setSenderAddress({ ...senderAddress, postCode })}\n          />\n          <Input\n            text=\"Country\"\n            data={senderAddress.country}\n            dataChangeHandler={(country) => setSenderAddress({ ...senderAddress, country })}\n          />\n        </FullSizeEntry>\n      </FormPart>\n      <FormPart>\n        <h3>Bill To</h3>\n        <FullSizeEntry numberPerLine=\"one\">\n          <Input\n            data={clientName}\n            dataChangeHandler={(name) => setClientName(name)}\n            text=\"Client's Name\"\n          />\n          <Input\n            data={clientEmail}\n            dataChangeHandler={(email) => setClientEmail}\n            text=\"Client's Email\"\n          />\n          <Input\n            data={clientAddress.street}\n            dataChangeHandler={(street) => setClientAddress({ ...clientAddress, street })}\n            text=\"Street Address\"\n          />\n        </FullSizeEntry>\n        <FullSizeEntry numberPerLine=\"three\">\n          <Input\n            data={clientAddress.city}\n            dataChangeHandler={(city) => setClientAddress({ ...clientAddress, city })}\n            text=\"City\"\n          />\n          <Input\n            data={clientAddress.postCode}\n            dataChangeHandler={(postCode) => setClientAddress({ ...clientAddress, postCode })}\n            text=\"Post Code\"\n          />\n          <Input\n            data={clientAddress.country}\n            dataChangeHandler={(country) => setClientAddress({ ...clientAddress, country })}\n            text=\"Country\"\n          />\n        </FullSizeEntry>\n      </FormPart>\n      <FormPart>\n        <FullSizeEntry numberPerLine={select === 'custom' ? 'three' : 'two'} date>\n          <InvoiceDateSelector\n            createdAt={createdAt}\n            invoiceDateHandler={(date) => setCreatedAt(date)}\n            handleSelectChange={(term) => setSelect(term)}\n            select={select}\n            paymentDue={paymentDue}\n            paymentDueHandler={(date) => setPaymentDue(date)}\n          />\n        </FullSizeEntry>\n      </FormPart>\n      <FormPart>\n        <h3>Item List</h3>\n        {items.length > 0 &&\n          items.map((e, i) => {\n            return (\n              <ItemList\n                key={e.id}\n                position={i}\n                data={e}\n                handleDelete={(item) => deleteItem(item)}\n                modifyItem={(type, data, value) => modifyItem(type, data, value)}\n              />\n            );\n          })}\n        <AddItemButton margin=\"20px\" clickHandler={() => addItem} />\n      </FormPart>\n    </FormContainer>\n  );\n};\n\nInvoiceForm.propTypes = {\n  invoiceData: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    description: PropTypes.string.isRequired,\n    createdAt: PropTypes.string.isRequired,\n    paymentDue: PropTypes.string.isRequired,\n    clientName: PropTypes.string.isRequired,\n    clientEmail: PropTypes.string,\n    clientAddress: PropTypes.shape({\n      street: PropTypes.string,\n      city: PropTypes.string,\n      postCode: PropTypes.string,\n      country: PropTypes.string,\n    }),\n    senderAddress: PropTypes.shape({\n      street: PropTypes.string,\n      city: PropTypes.string,\n      postCode: PropTypes.string,\n      country: PropTypes.string,\n    }),\n    items: PropTypes.shape([\n      {\n        name: PropTypes.string,\n        quantity: PropTypes.number,\n        price: PropTypes.number,\n        total: PropTypes.number,\n      },\n    ]),\n    total: PropTypes.number,\n  }).isRequired,\n  closeCreatingInvoice: PropTypes.func.isRequired,\n};\n\nexport default InvoiceForm;\n\nconst FormContainer = styled.form`\n  label {\n    margin-bottom: 10px;\n  }\n  input,\n  select {\n    width: 100%;\n    height: 40px;\n    border: 1px solid #0c9880;\n    border-radius: 5px;\n    padding: 6px;\n  }\n  .label {\n    margin-bottom: 10px;\n  }\n`;\n\nconst BackButtonContainer = styled.div`\n  margin-bottom: 30px;\n`;\n\nconst FormPart = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-top: 40px;\n  h3 {\n    font-size: 16px;\n  }\n`;\n\nconst FullSizeEntry = styled.div`\n  margin-top: 20px;\n  display: flex;\n  flex-direction: ${(props) => (props.numberPerLine === 'one' ? 'column' : 'row')};\n  width: 100%;\n  justify-content: space-between;\n  @media screen and (max-width: 600px) {\n    flex-direction: ${({ twoOnMobile }) => (twoOnMobile ? 'row' : 'row')};\n    flex-wrap: wrap;\n    margin-top: 0;\n  }\n\n  .container {\n    width: ${({ numberPerLine }) =>\n      (numberPerLine === 'three' && '30%') ||\n      (numberPerLine === 'two' && '45%') ||\n      (numberPerLine === 'one' && '100%')};\n    display: flex;\n    flex-direction: column;\n    margin-top: 10px;\n    @media screen and (max-width: 600px) {\n      width: ${({ date }) => (date ? '45%' : '100%')};\n    }\n  }\n`;\n"]},"metadata":{},"sourceType":"module"}